\documentclass[../Moduli_Spaces_of_Riemann_Surfaces.tex]{subfiles}
\begin{document}
    \section{The Étalé Space}
    \begin{proposition}\label{CS:prp:basis_stalk}
        Let $\ms{F}$ be a presheaf of Abelian groups on $X$. Let $\l|\ms{F}\r|\coloneqq\coprod_{p\in X}\ms{F}_p$ and consider the projection $\pi:\l|\ms{F}\r|\to X$ mapping each $\eta\in\ms{F}_p$ to $p$. Then the system $\mc{B}$ of all sets
        \begin{equation*}
            \l[U,f\r]\coloneqq\bigl\{\l[f\r]_p\,\l|\,p\in U\bigr\}\r.\subseteq\l|\ms{F}\r|
        \end{equation*}
        for $U\in\tau$ and $f\in\ms{F}\l(U\r)$ is a basis for a topology on $\l|\ms{F}\r|$ and $\pi$ is a local homeomorphism.
    \end{proposition}
    \begin{proof}
        We first verify that $\mc{B}$ is a basis.
        \begin{enumerate}
            \item[(1)] Take $\eta\in\l|\ms{F}\r|$, so there exists an open set $U\in\tau$ such that $\eta=\l[f\r]_p$ for some $f\in\ms{F}\l(U\r)$ and $p\in U$. Observe that $\eta\in\l[U,f\r]$.
            \item[(2)] Take $\l[U,f\r],\l[V,g\r]\in\mc{B}$ and $\eta\in\l[U,f\r]\cap\l[V,g\r]$. Then there exists a point $p\in X$ such that $\eta=\l[f\r]_p=\l[g\r]_p$, which furnishes an open set $W\in\tau$ with $p\in W\subseteq U\cap V$ such that $\rho^U_W\!\l(f\r)=\rho^V_W\!\l(g\r)\eqqcolon h$. Then $\eta=\l[h\r]_p$ with $h\in W$, so $\eta\in\l[W,h\r]\subseteq\l[U,f\r]\cap\l[V,g\r]$.
        \end{enumerate}
        To show that $\pi$ is a local homeomorphism, fix $\eta\in\l|\ms{F}\r|$, say with $p\coloneqq\pi\l(\eta\r)$. By (1), there exists some $\l[U,f\r]\in\mc{B}$ containing $\eta$; we claim that $\l.\pi\r|_{\l[U,f\r]}:\l[U,f\r]\to U$ is a homeomorphism.
        \begin{itemize}
            \item For injectivity, take $\psi_1,\psi_2\in\l[U,f\r]$ such that $\pi\l(\psi_1\r)=\pi\l(\psi_2\r)$. Then $\psi_1=\l[f\r]_p$ and $\psi_2=\l[f\r]_q$ for some $p,q\in X$, but since $p=q$, they coincide.
            \item For continuity, it suffices to show that $\l.\pi\r|_{\l[U,f\r]}$ is an open map. Indeed, if $\l[V,g\r]\subseteq\l[U,f\r]$ is open, then $\l.\pi\r|_{\l[U,f\r]}\l(\l[V,g\r]\r)=V$ is open too.\qed
        \end{itemize}
    \end{proof}
    \begin{definition}
        The \ul{Étalé space} of a presheaf $\ms{F}$ of Abelian groups on $X$ is the topological space $\l|\ms{F}\r|$ equipped the projection $\pi:\l|\ms{F}\r|\to X$.
    \end{definition}
    \begin{definition}
        A presheaf $\ms{F}$ of Abelian groups on $X$ is said to satisfy the \ul{Identity Theorem} if for all $U\in\tau$ and all $f,g\in\ms{F}\l(U\r)$, if there is some $p\in U$ such that $\l[f\r]_p=\l[g\r]_p$, then $f=g$ (on $U$).
    \end{definition}
    \footnote{In particular, this holds for all $\HOLO\l[D\r]$. In contrast, the sheaf of smooth functions $\DIFF$ (see Section \ref{CC:sec:differential_forms}) does \textit{not} satisfy the Identity Theorem.}
    \begin{proposition}\label{CS:prp:stalk_topology_Hausdorff}
        If $X$ is a locally-connected Hausdorff space and $\ms{F}$ is a presheaf of Abelian groups on $X$ that satisfy the Identity Theorem, then $\l|\ms{F}\r|$ is Hausdorff.
    \end{proposition}
    \begin{proof}
        Take distinct $\eta_1,\eta_2\in\l|\ms{F}\r|$. Two cases occur.
        \begin{itemize}
            \item If $p\coloneqq\pi\l(\eta_1\r)\neq\pi\l(\eta_2\r)\eqqcolon q$, then, since $X$ is Hausdorff, there exist disjoint neighborhoods $U$ of $p$ and $V$ of $q$. On those neighborhoods, $\pi$ is invertible and the sets $\pi^{-1}\!\l(U\r)$ and $\pi^{-1}\!\l(V\r)$ are disjoint neighborhoods of $\eta_1$ and $\eta_2$, respectively.
        \end{itemize}
        Otherwise, set $p\coloneqq\pi\l(\eta_1\r)=\pi\l(\eta_2\r)$ and suppose that each $\eta_i$ is represented by some $f_i\in\ms{F}\l(U_i\r)$. Since $X$ is locally-connected, there exists a connected neighborhood $U\subseteq U_1\cap U_2$ of $p$. Restricting both $f_i$ to $g_i\coloneqq\rho^{U_i}_U\!\l(f_i\r)$, the sets $\l[U,g_i\r]$ are neighborhoods of $\eta_i$. Suppose, for sake of contradiction, that there exists some $\psi\in\l[U,g_1\r]\cap\l[U,g_2\r]$. Setting $q\coloneqq\pi\l(\psi\r)$, we see that $\psi=\l[g_1\r]_q=\l[g_2\r]_q$, from which the Identity Theorem shows that $g_1=g_2$. Note that $f_i\sim_pg_i$, so $\eta_1=\eta_2$, a contradiction. Hence the neighborhoods $\l[U,g_1\r]$ an $\l[U,g_2\r]$ are disjoint, as desired.\qed
    \end{proof}
\end{document}
